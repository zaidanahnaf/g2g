<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tawarkan Ampas Kopi - G2G</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <a href="index.html" class="logo">Grounds2Gourmet</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="offer-coffee.html" class="active">Tawarkan Ampas</a></li>
                    <li><a href="list-offers.html">Daftar Ampas</a></li>
                    <li><a href="guide.html">Panduan Budidaya</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="form-page">
        <section class="hero-section form-hero">
            <div class="container">
                <h1>Tawarkan Ampas Kopimu!</h1>
                <p>Bantu kurangi limbah dan dukung urban farming. Donasikan ampas kopimu sekarang!</p>
            </div>
        </section>

        <section class="form-container container">
            <form id="offerForm" class="g2g-form">
                <div class="form-group">
                    <label for="offerName">Nama Penyedia / Kafe:</label>
                    <input type="text" id="offerName" name="offerName" placeholder="Contoh: Kopi Kenangan" required>
                </div>

                <div class="form-group">
                    <label for="offerType">Jenis Lokasi:</label>
                    <select id="offerType" name="offerType" required>
                        <option value="">Pilih Jenis Lokasi</option>
                        <option value="Rumah Tangga">Rumah Tangga</option>
                        <option value="Kafe/Resto">Kafe/Resto</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="offerArea">Area / Kecamatan:</label>
                    <input type="text" id="offerArea" name="offerArea" placeholder="Contoh: Karawang Barat" required>
                    <small>Fokus area: Karawang dan sekitarnya</small>
                </div>

                <div class="form-group">
                    <label for="offerAmount">Perkiraan Jumlah Ampas Kopi (per hari/minggu):</label>
                    <input type="text" id="offerAmount" name="offerAmount" placeholder="Contoh: 1 kg/hari atau 0.5 kg/minggu" required>
                </div>

                <div class="form-group">
                    <label for="offerContact">Nomor Telepon/WhatsApp:</label>
                    <input type="tel" id="offerContact" name="offerContact" placeholder="Contoh: 081234567890" required>
                </div>

                <button type="submit" class="button primary">Submit Penawaran</button>
            </form>
            <div id="formMessage" class="form-message" style="display:none;"></div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 Grounds2Gourmet. All rights reserved.</p>
            <div class="social-links">
                <a href="#"><img src="assets/icons/instagram.png" alt="Instagram"></a>
                <a href="#"><img src="assets/icons/twitter.png" alt="Twitter"></a>
            </div>
        </div>
    </footer>

    <script type="module" src="js/offerLogic.js"></script>
    <script type="module" src="js/main.js"></script>
    <script type="module">
        // JavaScript untuk menangani submit form
        import { addCoffeeOffer } from './js/offerLogic.js';

        const offerForm = document.getElementById('offerForm');
        const formMessage = document.getElementById('formMessage');

        if (offerForm) {
            offerForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Mencegah reload halaman

                const offerData = {
                    name: document.getElementById('offerName').value,
                    type: document.getElementById('offerType').value,
                    area: document.getElementById('offerArea').value,
                    amount: document.getElementById('offerAmount').value,
                    contact: document.getElementById('offerContact').value
                };

                // Panggil fungsi dari offerLogic.js
                addCoffeeOffer(offerData);

                formMessage.textContent = 'Penawaran Anda berhasil dikirim! Silakan lihat di halaman "Daftar Ampas Kopi".';
                formMessage.style.display = 'block';
                formMessage.style.color = 'green';
                offerForm.reset(); // Kosongkan form

                console.log('Offer submitted:', offerData);

                // Opsional: Redirect setelah beberapa detik
                // setTimeout(() => {
                //     window.location.href = 'list-offers.html';
                // }, 3000);
            });
        }
    </script>
</body>
</html>